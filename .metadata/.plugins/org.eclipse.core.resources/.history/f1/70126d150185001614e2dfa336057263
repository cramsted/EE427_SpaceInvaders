/*
 * bullets.c
 *
 *  Created on: Sep 27, 2016
 *      Author: superman
 */
#include "bullets.h"

void updateBullets() {
	int i;
	Bullet *b = bullets.bullets;

	// tank bullet
	if (b[0].active) {
		b[0].sp.Color.color = BLACK;
		edit_frameBuffer(&b[0].sp, &b[0].p);
		b[0].sp.Color.color = WHITE;;
		b[0].p.y -= BULLETS_UPDATE_Y;
		edit_frameBuffer(&b[0].sp, &b[0].p);
	}

	// alien bullets
	for (i = 1; i < MAX_BULLETS; i++) {
		if (b[i].active) {
			b[i].sp.Color.color = BLACK;
			edit_frameBuffer(&b[i].sp, &b[i].p);
			b[i].sp.Color.color = WHITE;
			b[i].p.y += BULLETS_UPDATE_Y;
			edit_frameBuffer(&b[i].sp, &b[i].p);
		}
	}

	// TODO: limits - destroy the bullets when they exit the screen
}
